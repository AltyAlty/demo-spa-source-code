(this["webpackJsonpdemo-spa-01"]=this["webpackJsonpdemo-spa-01"]||[]).push([[5],{414:function(e,t,c){"use strict";c.d(t,"a",(function(){return o}));var s=c(3),a=c(140),r=(c(0),c(18)),n=c(26),i=c(1),u=["isAuth"],j=function(e){return{isAuth:e.auth.isAuth}};function o(e){return Object(r.b)(j)((function(t){var c=t.isAuth,r=Object(a.a)(t,u);return c?Object(i.jsx)(e,Object(s.a)({},r)):Object(i.jsx)(n.a,{to:"/login/"})}))}},416:function(e,t,c){e.exports={chatMessages:"ChatPage_chatMessages__N2RIB",chatMessage:"ChatPage_chatMessage___bsIl",chatMessageUserName:"ChatPage_chatMessageUserName__bxndp",chatMessageText:"ChatPage_chatMessageText__DpVVY",wsError:"ChatPage_wsError__31Og4"}},420:function(e,t,c){"use strict";c.r(t);var s=c(0),a=c.n(s),r=c(18),n=c(168),i=function(e){return e.chat.chatMessages},u=function(e){return e.chat.WSStatus},j=c(416),o=c.n(j),h=c(22),b=c(24),l=c(23),d=c(1),O=a.a.memo((function(e){var t=e.chatMessage;return Object(d.jsxs)("div",{className:o.a.chatMessage,children:[Object(d.jsxs)(b.c,{to:"/profile/"+t.userId,children:[Object(d.jsx)("img",{src:null!==t.photo?t.photo:l.a,alt:""}),Object(d.jsxs)("span",{className:o.a.chatMessageUserName,children:[t.userName+" "," (id: ",t.userId,"):"]})]}),Object(d.jsx)("span",{className:o.a.chatMessageText,children:t.message})]})})),g=function(){var e=Object(r.d)(i),t=Object(s.useRef)(null),c=Object(s.useState)(!0),a=Object(h.a)(c,2),n=a[0],u=a[1];return Object(s.useEffect)((function(){var e;n&&(null===(e=t.current)||void 0===e||e.scrollIntoView({behavior:"smooth"}))}),[e]),Object(d.jsxs)("div",{className:o.a.chatMessages,onScroll:function(e){var t=e.currentTarget;Math.abs(t.scrollHeight-t.scrollTop-t.clientHeight)<200?!n&&u(!0):n&&u(!1)},children:[e.map((function(e,t){return Object(d.jsx)(O,{chatMessage:e},e.id)})),Object(d.jsx)("div",{ref:t})]})},f=function(){var e=Object(s.useState)(""),t=Object(h.a)(e,2),c=t[0],a=t[1],i=Object(r.d)(u),j=Object(r.c)();return Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{children:Object(d.jsx)("textarea",{placeholder:"Enter your message",onChange:function(e){return a(e.currentTarget.value)},value:c})}),Object(d.jsx)("div",{children:Object(d.jsx)("button",{onClick:function(){c&&(j(Object(n.b)(c)),a(""))},disabled:"ready"!==i,children:"Send"})})]})},x=function(){var e=Object(r.d)(u),t=Object(r.c)();return Object(s.useEffect)((function(){return t(Object(n.c)()),function(){t(Object(n.d)())}}),[]),Object(d.jsxs)("div",{children:["error"===e&&Object(d.jsx)("div",{className:o.a.wsError,children:"Some error occurred. Please refresh the page or check your Internet-connection"}),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(g,{}),Object(d.jsx)(f,{})]})]})},v=c(414);t.default=Object(v.a)((function(){return Object(d.jsx)("div",{children:Object(d.jsx)(x,{})})}))}}]);
//# sourceMappingURL=5.3aac292c.chunk.js.map